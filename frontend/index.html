<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AtlasMap - Single-Cell Visualization</title>
</head>
<body>
    <div id="app">
        <header class="header">
            <h1 class="header-title">AtlasMap</h1>
            <div class="header-info" id="dataset-info"></div>
        </header>

        <main class="main-content">
            <aside class="sidebar">
                <div id="tab-panel-container" class="tab-panel-container"></div>

                <section id="tools-panel" class="panel">
                    <h2 class="panel-title">Tools</h2>
                    <div class="toolbar">
                        <button id="btn-reset" class="tool-btn" title="Reset View">
                            <svg viewBox="0 0 24 24" width="20" height="20">
                                <path fill="currentColor" d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"/>
                            </svg>
                        </button>
                        <button id="btn-pan-lock" class="tool-btn" title="Unlock panning (allow free drag)">
                            <svg id="icon-pan-locked" viewBox="0 0 24 24" width="20" height="20">
                                <path fill="currentColor" d="M12 17a2 2 0 0 0 2-2v-3h-4v3a2 2 0 0 0 2 2zm6-7h-1V8a5 5 0 0 0-10 0v2H6a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2zm-3 0H9V8a3 3 0 0 1 6 0v2z"/>
                            </svg>
                            <svg id="icon-pan-unlocked" viewBox="0 0 24 24" width="20" height="20" style="display:none">
                                <path fill="currentColor" d="M12 17a2 2 0 0 0 2-2v-3h-4v3a2 2 0 0 0 2 2zm6-7H10V8a2 2 0 1 1 4 0h2a4 4 0 1 0-8 0v2H6a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2z"/>
                            </svg>
                        </button>
                        <button id="btn-download" class="tool-btn" title="Download PNG at current zoom">
                            <svg viewBox="0 0 24 24" width="20" height="20">
                                <path fill="currentColor" d="M5 20h14v-2H5v2zM12 2v12l4-4 1.41 1.41L12 17.83 6.59 11.41 8 10l4 4V2h0z"/>
                            </svg>
                        </button>
                        <button id="btn-de" class="tool-btn" title="Differential expression (DE)">
                            <span class="tool-text">DE</span>
                        </button>
                        <button id="btn-blastp" class="tool-btn" title="BLASTP protein search">
                            <span class="tool-text">üîç</span>
                        </button>
	                        <button id="btn-theme" class="tool-btn" title="Toggle theme">
	                            <svg id="icon-sun" viewBox="0 0 24 24" width="20" height="20">
	                                <path fill="currentColor" d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 00-1.41 0 .996.996 0 000 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37a.996.996 0 00-1.41 0 .996.996 0 000 1.41l1.06 1.06c.39.39 1.03.39 1.41 0a.996.996 0 000-1.41l-1.06-1.06zm1.06-10.96a.996.996 0 000-1.41.996.996 0 00-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36a.996.996 0 000-1.41.996.996 0 00-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"/>
	                            </svg>
	                            <svg id="icon-moon" viewBox="0 0 24 24" width="20" height="20" style="display:none">
	                                <path fill="currentColor" d="M12 3a9 9 0 109 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 01-4.4 2.26 5.403 5.403 0 01-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"/>
	                            </svg>
	                        </button>
	                        <button id="btn-labels" class="tool-btn active" title="Toggle labels">
	                            <span class="tool-text">T</span>
	                        </button>
                            <button id="btn-point-size" class="tool-btn" title="Dot size">
                                <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" focusable="false">
                                    <circle cx="12" cy="12" r="2" fill="none" stroke="currentColor" stroke-width="1.5"/>
                                    <circle cx="12" cy="12" r="7" fill="none" stroke="currentColor" stroke-width="1.5"/>
                                </svg>
                            </button>
	                    </div>
                        <div
                            id="point-size-popover"
                            class="tool-popover"
                            role="dialog"
                            aria-label="Dot size"
                            aria-hidden="true"
                        >
                            <div class="tool-popover__row">
                                <input
                                    id="point-size-slider"
                                    type="range"
                                    min="0.1"
                                    max="5"
                                    step="0.05"
                                    value="1"
                                    aria-label="Dot size"
                                >
                                <span id="point-size-value" class="tool-range-value">100%</span>
                            </div>
                        </div>
	                    <div id="download-status" class="download-status"></div>
	                </section>
            </aside>

            <div class="sidebar-resizer" id="sidebar-resizer"></div>

            <div id="map-container" class="map-container"></div>
        </main>
    </div>

    <script type="module" src="/src/main.ts"></script>
</body>
</html>
